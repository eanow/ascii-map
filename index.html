<head>
<script src="jquery-3.6.3.min.js"></script>
</head>

<script type="text/javascript">
draw=0;
function fresh_map() {
    //get input
    rows=$("#num_rows").val();
    cols=$("#num_cols").val();
    
    //empty the map area
    $(".map_canvas").empty();
    //fill with rows worth of p elements
    for(ii=0;ii<rows;ii+=1) {
        $( ".map_canvas" ).append("<p class=\"map_pixel\" id=\""+ii+"\">");
    }
    //fill each p element with cols span elements
    for (jj=0; jj< cols; jj+=1) {
        $('p.map_pixel').append("<span id=\""+jj+"\">0</span>");
    }
    console.log("Creating Fresh Map");

    $('p.map_pixel span').click(
        function() {
            $(this).text("G")
            myCol = $(this).attr("id");
            myRow = $(this).parent().attr("id");
            $("#col_display").text(myCol);
            $("#row_display").text(myRow);
        }
    );

    $('p.map_pixel span').mousedown(
        function() {
            $('#state').text("Down");
            draw=1;
        }
    );

    $('p.map_pixel span').mouseup(
        function() {
            $('#state').text("Up");
            draw=0;
        }
    );

    $('p.map_pixel span').hover(
        function() {
            if (draw === 1) {
                $(this).text("G")
            }
        }
    );
}
</script>

<style type='text/css'>
p.map_pixel {
font-family: monospace;
line-height: 0em;
font-size: 30;
-moz-user-select: -moz-none;
-khtml-user-select: none;
-webkit-user-select: none;
-o-user-select: none;
user-select: none;
}
</style>
<p></p>
<div class="map_canvas"></div>

<hr>

<p>11111</p>
<p></p>
State:<span id="state"></span>
X:<span id="col_display"></span>
Y:<span id="row_display"></span>
<br />
<label for="num_rows">Rows:</label>
<input type="number" id="num_rows" name="Rows">
<label for="num_cols">Columns:</label>
<input type="number" id="num_cols" name="Cols">
<button onclick="fresh_map()">Create New Map</button> 

<!--
/*
<p>Each word will be wrapped in a span.</p>
<p>A second paragraph here.</p>
Word: <span id="word"></span>

<script type="text/javascript">
    $(function() {
        // wrap words in spans
        $('p').each(function() {
            var $this = $(this);
            $this.html($this.text().replace(/\b(\w+)\b/g, "<span>$1</span>"));
        });

        // bind to each span
        $('p span').hover(
            function() { $('#word').text($(this).css('background-color','#ffff66').text()); },
            function() { $('#word').text(''); $(this).css('background-color',''); }
        );
    });
</script>
*/
-->